<div class="toolbar" role="banner">
</div>

<div class="content" role="main">
  <a href="/home">
    <div class="card highlight-card">
      <span>Built Code Challenge</span>
    </div>
  </a>

  <div class="col-md-5">
    <label for="list-doctors" class="form-label">Doctor</label>
    <select (change)="getPatientsFromDoctor();" [(ngModel)]="doctorSelected" class="form-select" name="list-doctors" id="list-doctors">
      <option *ngFor="let doctor of doctors" [value]="doctor.id">{{doctor.name}} | {{doctor.crm}}-{{doctor.crmUf}}
      </option>
    </select>
  </div>

  <table class="table table-hover">
    <thead>
      <h2>List of patients by doctos</h2>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Birth Date</th>
        <th scope="col">CPF</th>
        <th scope="col">#</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let patient of patients;">
        <td style="display: none;">{{patient.id}}</td>
        <td>{{patient.name}}</td>
        <td>{{patient.birthDate | date: "dd/MM/yyyy"}}</td>
        <td>{{patient.cpf | mask: '000.000.000-00'}}</td>
        <td scope="row">
          <i class="far fa-edit icon-edit" (click)="editPatient(patient);"></i>
          <i class="far fa-trash-alt icon-remove" (click)="removePatient(patient);"></i>
        </td>
      </tr>
    </tbody>
  </table>
  <router-outlet></router-outlet>